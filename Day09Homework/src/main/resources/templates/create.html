<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Insert title here</title>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
          crossorigin="anonymous">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha512-bnIvzh6FU75ZKxp0GXLH9bewza/OIw6dLVh9ICg0gogclmYGguQJWl8U30WpbsGTqbIiAwxTsbe76DErLq5EDQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>

<div class="container-fluid mt-3">

    <form th:action="@{/save}"
          th:object="${car}"
          method ="post"
          enctype="multipart/form-data">


        <input type="hidden" th:field="*{id}"/>
<!--        <input type="hidden" th:field="*{image}"/>-->
        <div class = "form-group row">
            <label class="col-sm-4 col-form-label">Model</label>
            <div class="col-sm-8">
                <input
                        type="text"
                        class = "form-control"
                        th:field="*{model}"
                        placeholder="Enter model"

                />
            </div>

        </div>

        <div class = "form-group row" >
            <label class="col-sm-4 col-form-label"> Year</label>
            <div class="col-sm-8">
                <input
                        type="text"
                        class = "form-control"
                        th:field="*{year}"
                        placeholder="Enter year"
                />
            </div>
        </div>

        <div class = "form-group row">
            <label class="col-sm-4 col-form-label"> Brand</label>
            <div class="col-sm-8">
                <input
                        type="text"
                        class = "form-control"
                        th:field="*{brand}"
                        placeholder="Enter brand"
                />
            </div>
        </div>

        <div class = "form-group row">
            <label class="col-sm-4 col-form-label"> Photo: </label>
            <div class="col-sm-8">
                <input
                        type="file"
                        name="fileImage"
                        id="fileImage"
                        accept="image/png, image/jpeg"
                />

                <img id="thumbnail" alt="Logo preview"/>
            </div>


        </div>

        <div>
            <button type ="submit" class="btn btn-primary">Save</button>
        </div>


    </form>
</div>

<script>
    $(document).ready(function(){

        $('#fileImage').change(function(){
            showImageThumbnail(this)
        });
    });

    function showImageThumbnail(fileInput){
        var file = fileInput.files[0];
        var reader = new FileReader();

        reader.onload = function(e){
            $('#thumbnail').attr('src', e.target.result)
        };

        reader.readAsDataURL(file);
    }

</script>
</body>
</html>